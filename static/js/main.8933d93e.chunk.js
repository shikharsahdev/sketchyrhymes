(window.webpackJsonpsketchyrhymes=window.webpackJsonpsketchyrhymes||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/header_mob.216e6951.png"},28:function(e,t,a){e.exports=a(44)},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),l=a.n(r),o=(a(33),a(1)),s=a(24),u=a.n(s),i=(a(34),a(6)),m=a(7),b=a(13),d=a.n(b),f=a(27),p=a(15),E=(a(36),a(12));a(37),a(45);E.initializeApp({apiKey:"AIzaSyDbPyJdwBCo6cPwNh0j3u2RYFkuFJXHjls",authDomain:"sketchyrhymes.firebaseapp.com",databaseURL:"https://sketchyrhymes.firebaseio.com",projectId:"sketchyrhymes",storageBucket:"sketchyrhymes.appspot.com",messagingSenderId:"127981771828",appId:"1:127981771828:web:34e76f0d5d956b05"});var h=E.database(),v=E.storage();function g(e){var t=Object(n.useState)(-1),a=Object(o.a)(t,2);a[0],a[1];return Object(n.useEffect)(function(){console.log("sdf")},[]),c.a.createElement("div",{className:"adminPages"},c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(m.a,{path:"/admin/",exact:!0,component:O}),c.a.createElement(m.a,{path:"/admin/edit/:id?",component:j}))))}function O(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)(function(){console.log("sdf"),h.ref("/").once("value",function(e){return l(e.val())})},[]),c.a.createElement("div",null,c.a.createElement("h1",{className:"adminHeader"},"Hellu, beautiful"),c.a.createElement(i.b,{className:"newPostLink",to:"/admin/edit/"},c.a.createElement("span",{className:"newPostButton"},"Add New Post")),c.a.createElement("ul",{className:"adminListOfPosts"},null===r?null:c.a.createElement("div",null,Object.keys(r).sort().reverse().map(function(e){return c.a.createElement("li",null,c.a.createElement(i.b,{to:"/admin/edit/".concat(e)},c.a.createElement("b",null,r[e].title),c.a.createElement("br",null),c.a.createElement("i",null,r[e].caption)))}))))}function j(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),i=u[0],m=u[1],b=Object(n.useState)(""),E=Object(o.a)(b,2),g=E[0],O=E[1],j=Object(n.useState)({}),k=Object(o.a)(j,2),y=k[0],w=k[1],N=Object(n.useState)(""),S=Object(o.a)(N,2),x=S[0],C=S[1],L=Object(n.useState)([]),R=Object(o.a)(L,2),A=R[0],B=R[1],P=Object(n.useState)([]),T=Object(o.a)(P,2),H=T[0],I=T[1],U=Object(n.useState)(""),D=Object(o.a)(U,2),Y=D[0],G=D[1],J=Object(n.useState)(0),F=Object(o.a)(J,2),K=F[0],W=F[1],_=Object(n.useState)(0),z=Object(o.a)(_,2),M=z[0],X=z[1],V=Object(n.useState)(!0),$=Object(o.a)(V,2),q=$[0],Q=$[1];Object(n.useEffect)(function(){if(e.match.params.id){var t=h.ref("/".concat(e.match.params.id));t&&t.once("value",function(t){l(e.match.params.id||""),m(t.val().title||""),O(t.val().caption||""),C(t.val().cover||""),I(t.val().images||[]),G(t.val().text||""),W(t.val().sketch||!1),X(t.val().rhyme||!1)})}},[]);var Z=function(){var e=Object(p.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A)for(t=function(e){var t=A[e];v.ref().child("images/".concat(t.name)).put(t).on("state_changed",function(){},function(){},function(){v.ref().child("images/".concat(t.name)).getDownloadURL().then(function(e){I(function(t){return[].concat(Object(f.a)(t),[e])})})})},a=0;a<A.length;a++)t(a);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();var ee=function(){var t=Object(p.a)(d.a.mark(function t(){var a,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(q){t.next=2;break}return t.abrupt("return");case 2:if(Q(!1),a={caption:g,cover:x,text:Y,title:i,sketch:K,rhyme:M,images:H},!r){t.next=10;break}return t.next=7,h.ref(r).set(a);case 7:alert("Added your data/changes baby"),t.next=15;break;case 10:return n=h.ref("/").push(),t.next=13,n.set(a);case 13:alert("Added your data/changes baby"),e.history.push("/admin/");case 15:Q(!0);case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"adminForm"},"Poem ID",c.a.createElement("br",null),c.a.createElement("input",{type:"text",disabled:""!==r,value:r,onChange:function(e){return l(e.target.value)}}),c.a.createElement("br",null),"Title",c.a.createElement("br",null),c.a.createElement("input",{type:"text",value:i,onChange:function(e){return m(e.target.value)}}),c.a.createElement("br",null),"Caption",c.a.createElement("br",null),c.a.createElement("input",{type:"text",value:g,onChange:function(e){return O(e.target.value)}}),c.a.createElement("br",null),"Cover",c.a.createElement("br",null),x?c.a.createElement("img",{src:x}):"",c.a.createElement("br",null),c.a.createElement("input",{type:"file",onChange:function(e){return w(e.target.files[0])}}),c.a.createElement("button",{onClick:function(){y&&v.ref().child("images/".concat(y.name)).put(y).on("state_changed",function(){},function(){},function(){v.ref().child("images/".concat(y.name)).getDownloadURL().then(function(e){C(e),alert("uploaded")})})}},"Upload"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),"Other Images",c.a.createElement("br",null),H?H.map(function(e){return c.a.createElement("div",{className:"imageUploaded"},c.a.createElement("img",{src:e}),c.a.createElement("button",{onClick:function(){return function(e){console.log("hey"),I(function(t){return t.filter(function(t){return t!==e})})}(e)}},"X"))}):"",c.a.createElement("br",null),c.a.createElement("input",{type:"file",onChange:function(e){return B(e.target.files)},multiple:!0}),c.a.createElement("button",{onClick:Z},"Upload"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),"Poem/Text",c.a.createElement("br",null),c.a.createElement("textarea",{value:Y,onChange:function(e){return G(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("input",{type:"checkbox",onChange:function(e){return W(e.target.checked)},checked:1==K?"checked":""}),"Sketch",c.a.createElement("br",null),c.a.createElement("input",{type:"checkbox",onChange:function(e){return X(e.target.checked)},checked:1==M?"checked":""}),"Rhyme",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{className:"saveButton",onClick:ee},"SAVE"))}function k(e){var t=c.a.createRef(),a=c.a.createRef(),r=c.a.createRef(),l=c.a.createRef(),s=c.a.createRef(),i=c.a.createRef(),m=Object(n.useState)(1),b=Object(o.a)(m,2),d=b[0],f=b[1],p=Object(n.useState)(1),E=Object(o.a)(p,2),v=E[0],g=E[1],O=Object(n.useState)(null),j=Object(o.a)(O,2),k=j[0],w=j[1];Object(n.useEffect)(function(){console.log(e.location.state),h.ref("/").once("value",function(e){return w(e.val())})},[]);var N=function(){try{window.pageYOffset>30?(t.current.classList.add("hideHeader"),l.current.classList.add("navbarshow"),a.current.classList.add("App-with-blueBG"),r.current.classList.add("blogUp")):(t.current.classList.remove("hideHeader"),l.current.classList.remove("navbarshow"),a.current.classList.remove("App-with-blueBG"),r.current.classList.remove("blogUp"))}catch(e){}};window.addEventListener("scroll",N);var S=function(){return window.removeEventListener("scroll",N)};return c.a.createElement("div",{className:"App",onScroll:N},c.a.createElement("div",{ref:l,className:"navbar"},c.a.createElement("b",{className:"sketchy selectedOption",ref:s,onClick:function(){d?(f(0),s.current.classList.remove("selectedOption")):(f(1),s.current.classList.add("selectedOption")),S()}},"SKETCHY"),c.a.createElement("b",{onClick:function(){v?(g(0),i.current.classList.remove("selectedOption")):(g(1),i.current.classList.add("selectedOption")),S()},ref:i,className:"rhymes selectedOption"},"RHYM.ES")),c.a.createElement("div",null,c.a.createElement("header",{ref:a,className:"App-header"},c.a.createElement("img",{ref:t,src:u.a,className:"App-logo",alt:"logo"}),c.a.createElement("span",{className:"scrollDown"},"SCROLL DOWN"))),c.a.createElement("div",{ref:r,className:"blog"},null===k?null:c.a.createElement("div",null,Object.keys(k).sort().reverse().map(function(t){return k[t].rhyme&&v||k[t].sketch&&d?c.a.createElement(y,{location:e.location,rem:S,item:t,post:k[t]}):""}))),c.a.createElement("footer",null,"Crafted with ",c.a.createElement("b",null,"love")," by Shikhar"))}function y(e){var t=c.a.createRef(),a=e.post;return Object(n.useEffect)(function(){e.location.state===e.item&&window.scrollTo(0,t.current.offsetTop-400)}),c.a.createElement("div",{ref:t,id:e.item,className:"blogPost"},c.a.createElement("span",{className:"postType"},a.sketch?"SKETCH":"RHYME"),c.a.createElement("b",null,a.title),c.a.createElement(i.b,{onClick:e.rem,to:"post/".concat(e.item)},c.a.createElement("img",{src:a.cover})),c.a.createElement("p",null,a.caption))}function w(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)(function(){h.ref("/".concat(e.match.params.id)).once("value",function(e){return l(e.val())})},[]),null===r?null:c.a.createElement("div",{className:"blogPage"},c.a.createElement("div",{className:"postTopSection"},c.a.createElement(i.b,{to:{pathname:"/",state:e.match.params.id}},c.a.createElement("button",{className:"backButton mob"},"Go Back")),c.a.createElement("b",{className:"titleText mob"},r.title),c.a.createElement("div",{className:"postImages"},c.a.createElement("img",{src:r.cover}),void 0===r.images?null:r.images.map(function(e){return c.a.createElement("img",{src:e})}))),c.a.createElement("section",{className:"textContent"},c.a.createElement(i.b,{to:{pathname:"/",state:e.match.params.id}},c.a.createElement("button",{className:"backButton nonmob"},"Go Back")),c.a.createElement("b",{className:"titleText nonmob"},r.title),c.a.createElement("p",{className:"caption"},r.caption),c.a.createElement("p",null,r.text.split("\n").map(function(e){return c.a.createElement("span",null,e,c.a.createElement("br",null))}))))}var N=function(){var e=Object(n.useState)(-1),t=Object(o.a)(e,2);return t[0],t[1],c.a.createElement("div",{className:"App"},c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(m.a,{path:"/",exact:!0,component:k}),c.a.createElement(m.a,{path:"/post/:id",component:w}),c.a.createElement(m.a,{path:"/admin/",component:g}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.8933d93e.chunk.js.map